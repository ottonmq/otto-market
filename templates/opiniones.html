<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opiniones - {{ publicacion.titulo }}</title>
    <style>
        :root {
            --bg-cyber: #0a0a0c;
            --neon-blue: #00f2ff;
            --neon-purple: #bc13fe;
            --text-gray: #a0a0a0;
            --star-gold: #ffcc00;
        }

        body {
            background-color: var(--bg-cyber);
            color: white;
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
        }

        /* Contenedor Principal Estilo Play Store */
        .opiniones-wrapper {
            max-width: 600px;
            margin: 0 auto;
        }

        /* Encabezado con el Promedio */
        .rating-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .big-score {
            font-size: 64px;
            font-weight: bold;
            margin: 0;
        }

        .stats-bars {
            flex-grow: 1;
        }

        .bar-row {
            display: flex;
            align-items: center;
            gap: 10px;
            height: 12px;
            margin-bottom: 4px;
        }

        .bar-bg {
            background: #333;
            flex-grow: 1;
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
        }

        .bar-fill {
            background: var(--neon-blue);
            height: 100%;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        /* Lista de Comentarios */
        .review-card {
            margin-bottom: 25px;
            border-bottom: 1px solid #222;
            padding-bottom: 15px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .avatar {
            width: 32px;
            height: 32px;
            background: var(--neon-purple);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            text-transform: uppercase;
        }

        .stars-row {
            color: var(--star-gold);
            font-size: 14px;
            margin-bottom: 8px;
        }

        .date {
            color: var(--text-gray);
            font-size: 12px;
            margin-left: 10px;
        }

        .comment-body {
            font-size: 14px;
            line-height: 1.5;
            color: #ddd;
        }

        .back-btn {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
            transition: 0.3s;
        }

        .back-btn:hover {
            background: var(--neon-blue);
            color: black;
        }
    </style>
</head>
<body>
  
  
      <div class="opiniones-wrapper">
        <a href="#" class="back-btn">← OTTO-MARKET
  
  
<div class="header-cyber" style="padding: 15px 0; border-bottom: 1px solid #222; margin-bottom: 20px;">
    <div style="display: flex; align-items: center; justify-content: space-between;">
        <h2 style="margin: 0; font-size: 20px; color: white; font-weight: 500;">Calificaciones y opiniones</h2>
        <span style="color: var(--neon-blue); font-size: 20px;">→</span>
    </div>
    <div style="margin-top: 5px;">
        <span style="color: var(--text-gray); font-size: 13px;">{{ publicacion.titulo }}.</span>
    </div>
    <p style="color: var(--text-gray); font-size: 12px; margin-top: 15px; line-height: 1.4;">
        Las calificaciones y opiniones están verificadas y provienen de personas que usan el mismo tipo de dispositivo que tú. 
        <span style="color: var(--neon-blue); font-size: 10px;">ⓘ</span>
    </p>
</div>









        <div class="rating-header">
            <h1 class="big-score">{{ promedio }}</h1>
            <div class="stats-bars">
                {% for i in "54321" %}
                <div class="bar-row">
                    <span>{{ i }}</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: {% if i == '5' %}80%{% elif i == '4' %}15%{% else %}5%{% endif %}"></div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <h3 style="border-bottom: 1px solid var(--neon-blue); padding-bottom: 10px;">Opiniones de operadores</h3>

        {% for r in resenas %}
        <div class="review-card">
            <div class="user-info">
                <div class="avatar">{{ r.autor.username|slice:":1" }}</div>
                <span>{{ r.autor.username }}</span>
            </div>
            <div class="stars-row">
                {% for star in "12345" %}
                    {% if forloop.counter <= r.puntuacion %}★{% else %}☆{% endif %}
                {% endfor %}
                <span class="date">{{ r.fecha_creacion|date:"d M, Y" }}</span>
            </div>
            <div class="comment-body">
                {{ r.comentario }}
            </div>
        </div>
        {% empty %}
        <p class="text-gray">No hay informes registrados en este sector.</p>
        {% endfor %}
    </div>




</body>

<div class="otto-static-btn" onclick="window.history.back()">
    <div class="particles-box">
        <span class="p"></span><span class="p"></span><span class="p"></span><span class="p"></span><span class="p"></span>
    </div>
    <div class="btn-content">
        <span class="scan-line-btn"></span>
        <span class="btn-arrow">⟸</span>
        <span class="btn-text">VOLVER</span>
    </div>
</div>

<style>
    /* CONTENEDOR DEL BOTÓN */
    .otto-static-btn {
        position: relative; /* YA NO ES FIXED */
        width: 160px;
        height: 48px;
        background: #000;
        border: 2px solid #00f2ff;
        border-radius: 4px;
        cursor: pointer;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.3s all;
        margin: 10px 0; /* Espacio para que no pegue con lo demás */
    }

    .btn-content {
        display: flex;
        align-items: center;
        gap: 10px;
        color: #00f2ff;
        font-family: 'Courier New', monospace;
        font-weight: bold;
        z-index: 5;
    }

    /* EFECTO ESCÁNER */
    .scan-line-btn {
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0, 242, 255, 0.4), transparent);
        animation: scan-loop 2.5s infinite linear;
    }

    @keyframes scan-loop {
        0% { left: -100%; }
        100% { left: 100%; }
    }

    /* PARTÍCULAS */
    .particles-box .p {
        position: absolute;
        width: 2px;
        height: 2px;
        background: #00f2ff;
        border-radius: 50%;
        opacity: 0;
        animation: float-up 2s infinite linear;
    }

    .particles-box .p:nth-child(1) { left: 20%; animation-delay: 0s; }
    .particles-box .p:nth-child(2) { left: 40%; animation-delay: 0.5s; }
    .particles-box .p:nth-child(3) { left: 60%; animation-delay: 1s; }
    .particles-box .p:nth-child(4) { left: 80%; animation-delay: 1.5s; }
    .particles-box .p:nth-child(5) { left: 50%; animation-delay: 0.7s; }

    @keyframes float-up {
        0% { transform: translateY(25px); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(-35px); opacity: 0; }
    }

    /* EFECTO AL TOCAR */
    .otto-static-btn:active {
        transform: scale(0.95);
        box-shadow: 0 0 20px rgba(0, 242, 255, 0.5);
    }
    
    .otto-static-btn:hover {
        background: rgba(0, 242, 255, 0.1);
    }
</style>


</html>
